<!-- Fixed Side Navigation â€” auto-selects links based on current layout -->
<nav class="side-nav" id="sideNav" role="navigation" aria-label="Section navigation">
    <!-- Visual tab indicator (slides away on hover) -->
    <div class="side-nav__tab" aria-hidden="false">
        <i class="fas fa-chevron-right"></i>
    </div>

    <div class="side-nav__links" id="sideNavLinks">
        {% if page.layout == 'CircuitNotes' %}
            <span class="side-nav__heading">
                <i class="fas fa-microchip" aria-hidden="true"></i> Circuits
            </span>
            {% include nav_circuits.html %}
        {% elsif page.layout == 'AURA-MF' %}
            <span class="side-nav__heading">
                <i class="fas fa-sun" aria-hidden="true"></i> AURA-MF
            </span>
            {% include nav_mfp.html %}
        {% elsif page.layout == 'PhysNotes' %}
            <span class="side-nav__heading">
                <i class="fas fa-atom" aria-hidden="true"></i> Physics
            </span>
            {% include nav_phys.html %}
        {% elsif page.layout == 'MathNotes' %}
            <span class="side-nav__heading">
                <i class="fas fa-square-root-alt" aria-hidden="true"></i> Mathematics
            </span>
            {% include nav_math.html %}
        {% elsif page.layout == 'CompSciNotes' %}
            <span class="side-nav__heading">
                <i class="fas fa-laptop-code" aria-hidden="true"></i> Computer Science
            </span>
            {% include nav_compsci.html %}
        {% endif %}
    </div>
</nav>

<script>
(function() {
    document.addEventListener('DOMContentLoaded', function() {
        var links = document.getElementById('sideNavLinks');
        if (!links) return;

        // Highlight the current page link
        var currentPath = window.location.pathname.replace(/\/$/, '');
        var allLinks = links.querySelectorAll('a');
        allLinks.forEach(function(link) {
            var linkPath = new URL(link.href).pathname.replace(/\/$/, '');
            if (linkPath === currentPath) {
                link.classList.add('side-nav__link--active');
                link.setAttribute('aria-current', 'page');
            }
        });
    });
})();
</script>