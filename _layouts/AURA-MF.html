<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} | AURA-MF</title>
    
    <!-- Compiled CSS from SASS (uses site's baseurl) -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    
    <!-- Project-Specific CSS (absolute URL to backend-hub) -->
    <link rel="stylesheet" href="https://thmscmpg.github.io/backend-hub/assets/css/aura-mf.css">

    <!-- KaTeX for Mathematical Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <!-- External Libraries via CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    
    {% include nav_main.html %}
    {% include nav_second.html %}

    <main class="container">
        <article class="content-area">
            {{ content }}
        </article>

        {% if site.includes_enabled %}
            {% include contact_form.html %}
        {% endif %}
    </main>

    <footer class="footer">
        <p>Thomas Campagna | Physics & Mathematics</p>
        <p>&copy; 2025 AURA-MF Project</p>
        <p>&copy; 2026 CircuitNotes Project</p>
        <p style="font-size: 0.8rem;">Licensed under the MIT License.</p>
        <a href="https://github.com/THMSCMPG" target="_blank"><i class="fab fa-github"></i> GitHub</a>
    </footer>
    
    <!-- Backend Bridge iframe for contact form and physics API communication -->
    <!-- DO NOT REMOVE - Critical for backend communication -->
    <iframe 
        id="backend-bridge" 
        src="https://thmscmpg.github.io/backend-hub" 
        style="display:none; width:0; height:0; border:0;"
        aria-hidden="true">
    </iframe>

    <script>
        // Mobile sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('mySidebar');
            sidebar.classList.toggle('open');
            document.body.classList.toggle('sidebar-open');
        }

        // KaTeX Auto-render for mathematical expressions
        document.addEventListener("DOMContentLoaded", function() {
            if (typeof renderMathInElement !== 'undefined') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "$", right: "$", display: false}
                    ]
                });
            }
        });
    </script>
</body>    
</html>
